{% load staticfiles %}
<!DOCTYPE html>
<!-- release v4.3.6, copyright 2014 - 2016 Kartik Visweswaran -->
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <link href="{% static 'upImages/css/bootstrap-3.3.4.css' %}" rel="stylesheet">
    <link href="{% static 'upImages/css/fileinput.css' %}" media="all" rel="stylesheet" type="text/css"/>
    <script src="{% static 'upImages/js/jquery.min.js' %}"></script>
    <script src="{% static 'upImages/js/bootstrap-3.3.4.js' %}" type="text/javascript"></script>
    <script src="{% static 'upImages/js/fileinput.min.js' %}" type="text/javascript"></script>
</head>

<body>
<div class="container kv-main">
    <div class="page-header">
        <h3>上传专家的照片</h3>
    </div>
    <form enctype="multipart/form-data">
        <hr>
        <input id="{{ proId }}" type="hidden" name="profName">
        <div class="form-group">
            <input id="profPhoto" name="profPhoto" type="file" multiple class="file" data-overwrite-initial="false"
                   data-min-file-count="1">
        </div>
    </form>
</div>
</body>
<script>
    var url = '/profImages/'+$("input[name='profName']").attr('id')+'/';
    {#console.info($("input[name='profName']").attr('id'));#}
    $("#profPhoto").fileinput({
        uploadUrl: url, // you must set a valid URL here else you will get an error
        allowedFileExtensions: ['jpg', 'png', 'gif'],
        overwriteInitial: false,
        showPreview: true,
        maxFilesNum: 5,
        //allowedFileTypes: ['image', 'video', 'flash'],
        {#slugCallback: function (filename) {#}
        {#    return filename.replace('(', '_').replace(']', '_');#}
        {##}
    });

</script>
</html>
